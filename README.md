# Симуляция транзакций банка

Консольная симуляция экосистемы банковых операций

```c++
			1 Create checking
			2 Deposit
			3 Withdraw
			4 Transfer
			5 List accounts
			6 Print account
			7 Undo last
			0 Exit
```

# Релиз

# Формат ввода 

Программа ждёт целочисленных команд (0–9). После выбора команды будут дополнительные подсказки (Owner:, acc id, amount: и т.п.).

Для ввода имени владельца используется getline, поэтому после ввода команды/чисел иногда нужно нажать Enter.

Числа вводятся в привычном формате с точкой или запятой в соответствии с локалью (лучше точка): 100.50.


# Функции

<h1>Create checking</h1>

создаёт расчётный счёт (Checking).

```c++
Owner: — имя владельца (строка, можно с пробелами; вводится после строки ввода).

Initial, — начальный баланс (double).
Пример: Initial 100 - значит начальный баланс 100
```

<h1>Deposit</h1>

положить деньги на счёт.

```c++
acc id, amount: — два значения: идентификатор счёта (int) и сумма (double).
Пример: 3 25.5 (если 3 — id счёта).
Ограничения: сумма должна быть > 0.
```

<h1>Withdraw</h1>

снять деньги со счёта.

```c++
acc id, amount: — id счёта и сумма.
если сумма <= 0 — ошибка;
```

<h1>Transfer</h1>

переводит amount с одного счёта на другой.

```c++
from to amount: — три значения: id отправителя, id получателя, сумма.
Пример: 1 2 60.0 — с 1 на 2 перевод 60.

Поведение: сначала пытается снять у отправителя,
 затем положить получателю. В журнал записываются два события: TransferOut и TransferIn.
```

<h1>List accounts</h1>

печатает краткую сводку всех аккаунтов: id, owner, balance.

<h1>Print account</h1>

печатает полную выписку по конкретному счёту: текущий баланс и журнал транзакций.

```c++
acc id: — введите id счёта после подсказки.
[YYYY-MM-DD HH:MM:SS] TIn + 50.00 | from 1
где TIn/TOut/Dep/Wdr — тип операции, затем сумма и текст заметки.
```

<h1>Undo last</h1>

пытается отменить последнюю глобальную операцию (последнюю запись в общем логе).

```c++
Если последняя операция — одиночный депозит или снятие, undo выполняет обратную операцию (снимает то, что было положено, или кладёт обратно то, что было снято).

Если последние две записи — пара TransferOut (отправитель) и TransferIn (получатель) с одинаковой суммой, undo отменит перевод: снимет у получателя и вернёт отправителю (т.е. откат двух записей).

undo — best-effort: если при откате не хватает средств или возникает другая ошибка, откат не выполняется и программа вернёт сообщение об ошибке.

Если лог пуст — undo сообщит "nothing to undo".
```

<h1>Exit</h1>

Выход из программы.
